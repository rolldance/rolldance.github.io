<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Bomb</title>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'/>
<link rel="stylesheet" href="css/swiper.min.css">
<link rel="stylesheet" href="css/animate.min.css">
<link rel="stylesheet" href="css/style.css">
<!-- <link rel="stylesheet" media="screen and (max-height:480px)"href="css/sm-style.css">
 --><script type="text/javascript" src="http://file.caixin.com/datanews/yuanren/jquery-2.0.3.js"></script>
<script src="js/swiper.animate.min.js"></script>
</head>

<body>
<div class="swiper-container">
    <div class="swiper-wrapper">
        <!--slidecover-->
        <div class="swiper-slide s0 swiper-slide-visible swiper-slide-active">
        <img src="img/move_up_tip.png" style="width:40px;height:15px; top:450px; left:140px;" id="array" class="resizer">

        </div>
        <!--slide1-->
        <div class="swiper-slide s1">
        <img src="img/logo_white.png" style="position:absolute;left:5%;top:40px;height:40px;width:40px">
        <img src="img/1_fire.jpg" class="ani resize" style="width:90%;height:auto;left:5%;top:25%;z-index:4;" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.5s" swiper-animate-delay="0.5s"  >
        <div class="ani resize" style="width:90%;height:auto;left:5%;top:68%;z-index:3;" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.5s" swiper-animate-delay="1.2s"  >
          <p style="color:white;font-size:12px;text-align:left;text-indent:2em">8月12日，22时50分，天津消防总队接到报警称，天津滨海新区港务集团瑞海物流危化品堆垛发生火灾，天津消防总队9个中队的35辆消防车和港务局码头3个专职消防队赶赴现场扑救。（CFP）</p>
        </div>
        <img src="img/move_up_tip.png" style="width:40px;height:15px; top:450px; left:140px;" id="array" class="resizer">

        </div>
         <!--slide2-->
        <div class="swiper-slide s2">
        <img src="img/logo_white.png" style="position:absolute;left:5%;top:40px;height:40px;width:40px">
        <img src="img/2_bomb.jpg" class="ani resize" style="width:90%;height:auto;left:5%;top:25%;z-index:4;" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.5s" swiper-animate-delay="0.5s"  >
        <div class="ani resize" style="width:90%;height:auto;left:5%;top:68%;z-index:3;" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.5s" swiper-animate-delay="1.2s"  >
        <p style="color:white;font-size:12px;text-align:left;text-indent:2em">火灾随后引起周围多家工厂强烈的爆炸，中国地震台网速报显示，爆炸发生在8月12日23时34分6秒，近震震级约2.3级，相当于3吨TNT。（CFP）</p>
        </div>   
        <img src="img/move_up_tip.png" style="width:40px;height:15px; top:450px; left:140px;" id="array" class="resizer">

        </div>
         <!--slide3-->
        <div class="swiper-slide s3">
        <img src="img/logo_white.png" style="position:absolute;left:20px;top:40px;height:40px;width:40px">
        <img src="img/3_bomb.jpg" class="ani resize" style="width:90%;height:auto;left:5%;top:25%;z-index:4;" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.5s" swiper-animate-delay="0.5s" >
        <div class="ani resize"style="width:90%;height:auto;left:5%;top:68%;z-index:3;" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.5s" swiper-animate-delay="1.2s"  >
        <p style="color:white;font-size:12px;text-align:left;text-indent:2em">30秒种后发生第二次爆炸，近震震级约2.9级，相当于21吨TNT——这已经达到一枚微型战术核武器的爆炸当量。（CFP）</p>
        </div>
        <img src="img/move_up_tip.png" style="width:40px;height:15px; top:450px; left:140px;" id="array" class="resizer">

        </div>
        <!--slide4-->
        <div class="swiper-slide s4">
        <img src="img/logo_white.png" style="position:absolute;left:20px;top:40px;height:40px;width:40px">
        <img src="img/4_refire.jpg" class="ani resize" style="width:90%;height:auto;left:5%;top:25%;z-index:4;" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.5s" swiper-animate-delay="0.5s"  >
        <div class="ani resize" style="width:90%;height:auto;left:5%;top:68%;z-index:3;" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.5s" swiper-animate-delay="1.2s" >
          <p style="color:white;font-size:12px;text-align:left;text-indent:2em">8月13日上午，之前发生爆炸的天津滨海新区物流仓库复燃。（财新记者实拍）</p>
        </div>
        <img src="img/move_up_tip.png" style="width:40px;height:15px; top:450px; left:140px;" id="array" class="resizer">

        </div>
        <!--slide5-->
        <div class="swiper-slide s5">
            <div id="map_cover">
            <img src="img/Map.png" style="position:absolute;width:320px;height:auto;z-index:0;" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.5s" swiper-animate-delay="0.5s">
            <div id="frame0">
              <div id="ball0" style="z-index:0;"></div>
            </div>
            <div id="frame1">
            <div id="ball1" style="z-index:1;"></div>
            </div>
            <div id="frame2">
             <div id="ball2" style="z-index:1"></div>
             </div>
            <div id="frame3">
            <div id="ball3" style="z-index:1" ></div>
            </div>
            <div id="frame4">
             <div id="ball4" style="z-index:1" ></div>
             </div>
            <div id="frame5">
            <div id="ball5" style="z-index:1" ></div>
            </div>
            <div id="frame6">
            <div id="ball6" style="z-index:1" ></div>
           </div>
            <div id="frame7">
            <div id="ball7" style="z-index:1" ></div>
            </div>
            <div id="frame8">
              <div id="ball8" style="z-index:1"></div>
            </div>

           
            <div id="map_box_one"></div>
            <div id="map_box_two"></div>
            <div id="map_box_three"></div>
            <div id="map_box_four"></div>
            <div id="map_box_five"></div>
            <div id="map_box_six"></div>
            <div id="map_box_seven"></div>
            <div id="map_box_eight"></div>


            </div>
        </div>
      <!-- 
        <div class="swiper-slide"></div> -->
     </div>
    
   <div class="swiper-pagination"></div>
</div>
<script src="js/swiper.min.js"></script>
<script>
//Resize the position of the elements
scaleW=window.innerWidth/320;
scaleH=window.innerHeight/480;
var resizes = document.querySelectorAll('.resizer');
          for (var j=0; j<resizes.length; j++) {
           resizes[j].style.top=parseInt(resizes[j].style.top)*scaleH+'px';
		   resizes[j].style.left=parseInt(resizes[j].style.left)*scaleW+'px';
	}
//load SwiperJs
var mySwiper = new Swiper ('.swiper-container', {
   direction : 'vertical',
   mousewheelControl : true,
   onInit: function(swiper){
   swiperAnimateCache(swiper);
   swiperAnimate(swiper);
	  },
   // onReachEnd: function(swiper){
   //     window.location.reload();
   //     },
   onSlideChangeEnd: function(swiper){
	swiperAnimate(swiper);
    }	  
	   });

 $(document).ready(function(){
    document.getElementById("frame1").addEventListener("mousedown",map_1,false);
    document.getElementById("frame2").addEventListener("mousedown",map_2,false);
    document.getElementById("frame3").addEventListener("mousedown",map_3,false);
    document.getElementById("frame4").addEventListener("mousedown",map_4,false);
    document.getElementById("frame5").addEventListener("mousedown",map_5,false);
    document.getElementById("frame6").addEventListener("mousedown",map_6,false);
    document.getElementById("frame7").addEventListener("mousedown",map_7,false);
    document.getElementById("frame8").addEventListener("mousedown",map_8,false);

    //one
    function map_1(e){
       id=e.currentTarget.id;
       e.stopPropagation();
       e.preventDefault();
       console.log(id);
       updateMapBox_1();
       };

    function updateMapBox_1(){
        var map_box_1=$("<div class='map_box_1' id='map_box_1'></div>").css({"background-color":"black","opacity":".9","position":"absolute","top":"30px","left":"24px","width":"272px","height":"450px","z-index":"10"});
        $("#map_box_one").append(map_box_1);
        var map_box_1_img=$("<img src='img/5-1_hospital.jpg'></img>").css({"position":"absolute","width":"100%","height":"auto","top":"10%"});
        map_box_1.append(map_box_1_img);
        var map_box_1_text=$("<p></p>").css({"color":"white","font-size":"12px","text-align":"left","text-indent":"2em","position":"absolute","top":"68%"});
        map_box_1_text.text("部分爆炸中的伤员被送往附近的泰达医院。医院辟出一间屋子作为失联家属接待室。（财新记者实拍）");
        map_box_1.append(map_box_1_text);
        var map_box_button_1=$("<button id='map_box_button_1'>X</button>").css({"background-color":"black","opacity":".5","color":"white","position":"absolute","left":"90%","top":"3%","font-size":"22px","border-width":"0px"});
        map_box_1.append(map_box_button_1);
        $("#map_box_button_1").click(function(){
        console.log("xxx");
        $("#map_box_one").empty();
        })
    }
    //two
     function map_2(e){
       id=e.currentTarget.id;
       e.stopPropagation();
       e.preventDefault();
       console.log(id);
       updateMapBox_2();
       };

    function updateMapBox_2(){
        var map_box_2=$("<div class='map_box_2' id='map_box_2'></div>").css({"background-color":"black","opacity":".9","position":"absolute","top":"30px","left":"24px","width":"272px","height":"450px","z-index":"10"});
        $("#map_box_two").append(map_box_2);
        var map_box_2_img=$("<img src='img/5-2_park.png'></img>").css({"position":"absolute","width":"100%","height":"auto","top":"10%"});
        map_box_2.append(map_box_2_img);
        var map_box_2_text=$("<p></p>").css({"color":"white","font-size":"12px","text-align":"left","text-indent":"2em","position":"absolute","top":"68%"});
        map_box_2_text.text("爆炸现场附近停车场，近千辆汽车被毁。（东方IC）");
        map_box_2.append(map_box_2_text);
        var map_box_button_2=$("<button id='map_box_button_2'>X</button>").css({"background-color":"black","opacity":".5","color":"white","position":"absolute","left":"90%","top":"3%","font-size":"22px","border-width":"0px"});
        map_box_2.append(map_box_button_2);
        $("#map_box_button_2").click(function(){
        console.log("xxx");
        $("#map_box_two").empty();
        })
    }
    //three
     function map_3(e){
       id=e.currentTarget.id;
       e.stopPropagation();
       e.preventDefault();
       console.log(id);
       updateMapBox_3();
       };

    function updateMapBox_3(){
        var map_box_3=$("<div class='map_box_3' id='map_box_3'></div>").css({"background-color":"black","opacity":".9","position":"absolute","top":"30px","left":"24px","width":"272px","height":"450px","z-index":"10"});
        $("#map_box_three").append(map_box_3);
        var map_box_3_img=$("<img src='img/5-3_construction.jpg'></img>").css({"position":"absolute","width":"100%","height":"auto","top":"10%"});
        map_box_3.append(map_box_3_img);
        var map_box_3_text=$("<p></p>").css({"color":"white","font-size":"12px","text-align":"left","text-indent":"2em","position":"absolute","top":"68%"});
        map_box_3_text.text("爆炸现场附近，有两个建筑工地的生活区，大概有两百多名工人。工人说受伤去医院的很多，但是很多也都回来了。（财新记者实拍）");
        map_box_3.append(map_box_3_text);
        var map_box_button_3=$("<button id='map_box_button_3'>X</button>").css({"background-color":"black","opacity":".5","color":"white","position":"absolute","left":"90%","top":"3%","font-size":"22px","border-width":"0px"});
        map_box_3.append(map_box_button_3);
        $("#map_box_button_3").click(function(){
        console.log("xxx");
        $("#map_box_three").empty();
        })
    }
     //four
     function map_4(e){
       id=e.currentTarget.id;
       e.stopPropagation();
       e.preventDefault();
       console.log(id);
       updateMapBox_4();
       };

    function updateMapBox_4(){
        var map_box_4=$("<div class='map_box_4' id='map_box_4'></div>").css({"background-color":"black","opacity":".9","position":"absolute","top":"30px","left":"24px","width":"272px","height":"450px","z-index":"10"});
        $("#map_box_four").append(map_box_4);
        var map_box_4_img=$("<img src='img/5-4_pumper.jpg'></img>").css({"position":"absolute","width":"100%","height":"auto","top":"10%"});
        map_box_4.append(map_box_4_img);
        var map_box_4_text=$("<p></p>").css({"color":"white","font-size":"12px","text-align":"left","text-indent":"2em","position":"absolute","top":"68%"});
        map_box_4_text.text("爆炸事故点东侧的跃进路上，五辆消防车受损严重损毁，车内已无消防员，消防装备散落周围。（东方IC）");
        map_box_4.append(map_box_4_text);
        var map_box_button_4=$("<button id='map_box_button_4'>X</button>").css({"background-color":"black","opacity":".5","color":"white","position":"absolute","left":"90%","top":"3%","font-size":"22px","border-width":"0px"});
        map_box_4.append(map_box_button_4);
        $("#map_box_button_4").click(function(){
        console.log("xxx");
        $("#map_box_four").empty();
        })
    }
     //five
     function map_5(e){
       id=e.currentTarget.id;
       e.stopPropagation();
       e.preventDefault();
       console.log(id);
       updateMapBox_5();
       };

    function updateMapBox_5(){
        var map_box_5=$("<div class='map_box_5' id='map_box_5'></div>").css({"background-color":"black","opacity":".9","position":"absolute","top":"30px","left":"24px","width":"272px","height":"450px","z-index":"10"});
        $("#map_box_five").append(map_box_5);
        var map_box_5_img=$("<img src='img/5-5_subway.jpg'></img>").css({"position":"absolute","width":"100%","height":"auto","top":"10%"});
        map_box_5.append(map_box_5_img);
        var map_box_5_text=$("<p></p>").css({"color":"white","font-size":"12px","text-align":"left","text-indent":"2em","position":"absolute","top":"68%"});
        map_box_5_text.text("据爆炸现场最近的津滨轻轨东海站已被震毁。（新华社）");
        map_box_5.append(map_box_5_text);
        var map_box_button_5=$("<button id='map_box_button_5'>X</button>").css({"background-color":"black","opacity":".5","color":"white","position":"absolute","left":"90%","top":"3%","font-size":"22px","border-width":"0px"});
        map_box_5.append(map_box_button_5);
        $("#map_box_button_5").click(function(){
        console.log("xxx");
        $("#map_box_five").empty();
        })
    }
     //six
     function map_6(e){
       id=e.currentTarget.id;
       e.stopPropagation();
       e.preventDefault();
       console.log(id);
       updateMapBox_6();
       };

    function updateMapBox_6(){
        var map_box_6=$("<div class='map_box_6' id='map_box_6'></div>").css({"background-color":"black","opacity":".9","position":"absolute","top":"30px","left":"24px","width":"272px","height":"450px","z-index":"10"});
        $("#map_box_six").append(map_box_6);
        var map_box_6_img=$("<img src='img/5-6_building.jpeg'></img>").css({"position":"absolute","width":"100%","height":"auto","top":"10%"});
        map_box_6.append(map_box_6_img);
        var map_box_6_text=$("<p></p>").css({"color":"white","font-size":"12px","text-align":"left","text-indent":"2em","position":"absolute","top":"68%"});
        map_box_6_text.text("爆炸现场附近海港城、双子座、玉兰花等几个小区均受到爆炸影响，目前居民已撤离。（财新记者实拍）");
        map_box_6.append(map_box_6_text);
        var map_box_button_6=$("<button id='map_box_button_6'>X</button>").css({"background-color":"black","opacity":".5","color":"white","position":"absolute","left":"90%","top":"3%","font-size":"22px","border-width":"0px"});
        map_box_6.append(map_box_button_6);
        $("#map_box_button_6").click(function(){
        console.log("xxx");
        $("#map_box_six").empty();
        })
    }
     //seven
     function map_7(e){
       id=e.currentTarget.id;
       e.stopPropagation();
       e.preventDefault();
       console.log(id);
       updateMapBox_7();
       };

    function updateMapBox_7(){
        var map_box_7=$("<div class='map_box_7' id='map_box_7'></div>").css({"background-color":"black","opacity":".9","position":"absolute","top":"30px","left":"24px","width":"272px","height":"400px","z-index":"10"});
        $("#map_box_seven").append(map_box_7);
        var map_box_7_img=$("<img src='img/5-7_reserve.jpg'></img>").css({"position":"absolute","width":"100%","height":"auto","top":"10%"});
        map_box_7.append(map_box_7_img);
        var map_box_7_text=$("<p></p>").css({"color":"white","font-size":"12px","text-align":"left","text-indent":"2em","position":"absolute","top":"68%"});
        map_box_7_text.text("第五大道执勤的武警封锁了进出的道路。（财新记者实拍）");
        map_box_7.append(map_box_7_text);
        var map_box_button_7=$("<button id='map_box_button_7'>X</button>").css({"background-color":"black","opacity":".5","color":"white","position":"absolute","left":"90%","top":"3%","font-size":"22px","border-width":"0px"});
        map_box_7.append(map_box_button_7);
        $("#map_box_button_7").click(function(){
        console.log("xxx");
        $("#map_box_seven").empty();
        })
    }

         //seven
     function map_8(e){
       id=e.currentTarget.id;
       e.stopPropagation();
       e.preventDefault();
       console.log(id);
       updateMapBox_8();
       };

    function updateMapBox_8(){
        var map_box_8=$("<div class='map_box_8' id='map_box_8'></div>").css({"background-color":"black","opacity":".9","position":"absolute","top":"30px","left":"24px","width":"272px","height":"400px","z-index":"10"});
        $("#map_box_eight").append(map_box_8);
        var map_box_8_img=$("<img src='img/5-8_five.jpg'></img>").css({"position":"absolute","width":"100%","height":"auto","top":"10%"});
        map_box_8.append(map_box_8_img);
        var map_box_8_text=$("<p></p>").css({"color":"white","font-size":"12px","text-align":"left","text-indent":"2em","position":"absolute","top":"68%"});
        map_box_8_text.text("天津市泰达开发区第二小学，为爆炸现场周边小区居民休息的安置点之一。（财新记者实拍）");
        map_box_8.append(map_box_8_text);
        var map_box_button_8=$("<button id='map_box_button_8'>X</button>").css({"background-color":"black","opacity":".5","color":"white","position":"absolute","left":"90%","top":"3%","font-size":"22px","border-width":"0px"});
        map_box_8.append(map_box_button_8);
        $("#map_box_button_8").click(function(){
        console.log("xxx");
        $("#map_box_eight").empty();
        })
    }
 })

  </script>
  
<script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
<script src="http://file.caixin.com/webjs/get_wx_config.js"></script>
<script>
    getWXConfig();

    var imgUrl = "http://file.caixin.com/datanews/hungry2015/upload/share.jpeg";
    var lineLink = "http://rolldance.github.io/Tianjin_bomb/index.html";
    var descContent = "8.12日晚天津港仓库发生连续爆炸";
    var shareTitle = "天津港仓库连环爆炸";
    var appid = " ";

    wx.ready(function(){
        wx.onMenuShareTimeline({
            title: shareTitle, // 分享标题
            link: lineLink, // 分享链接
            imgUrl: imgUrl, // 分享图标
            success: function () {
                // 用户确认分享后执行的回调函数
            },
            cancel: function () {
                // 用户取消分享后执行的回调函数
            }
        });
        wx.onMenuShareAppMessage({
            title: shareTitle, // 分享标题
            desc: descContent, // 分享描述
            link: lineLink, // 分享链接
            imgUrl: imgUrl, // 分享图标
            type: '', // 分享类型,music、video或link，不填默认为link
            dataUrl: '', // 如果type是music或video，则要提供数据链接，默认为空
            success: function () {
                // 用户确认分享后执行的回调函数
            },
            cancel: function () {
                // 用户取消分享后执行的回调函数
            }
        });
        wx.onMenuShareQQ({
            title: shareTitle, // 分享标题
            desc: descContent, // 分享描述
            link: lineLink, // 分享链接
            imgUrl: imgUrl, // 分享图标
            success: function () {
                // 用户确认分享后执行的回调函数
            },
            cancel: function () {
                // 用户取消分享后执行的回调函数
            }
        });
        wx.onMenuShareWeibo({
            title: shareTitle, // 分享标题
            desc: descContent, // 分享描述
            link: lineLink, // 分享链接
            imgUrl: imgUrl, // 分享图标
            success: function () {
                // 用户确认分享后执行的回调函数
            },
            cancel: function () {
                // 用户取消分享后执行的回调函数
            }
        });
    });
</script>



</body>
</html>
